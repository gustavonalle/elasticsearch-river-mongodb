2013-02-05 18:00:57,472 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - *** beforeSuite ***
2013-02-05 18:00:57,473 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - *** setupElasticsearchServer ***
2013-02-05 18:01:01,254 INFO  org.elasticsearch.node  - [Manslaughter] {0.20.1}[2617]: initializing ...
2013-02-05 18:01:01,296 INFO  org.elasticsearch.plugins  - [Manslaughter] loaded [river-mongodb, mapper-attachments], sites []
2013-02-05 18:01:03,414 INFO  org.elasticsearch.node  - [Manslaughter] {0.20.1}[2617]: initialized
2013-02-05 18:01:03,431 INFO  org.elasticsearch.node  - [Manslaughter] {0.20.1}[2617]: starting ...
2013-02-05 18:01:03,435 INFO  org.elasticsearch.transport  - [Manslaughter] bound_address {local[1]}, publish_address {local[1]}
2013-02-05 18:01:03,439 INFO  org.elasticsearch.cluster.service  - [Manslaughter] new_master [Manslaughter][1][local[1]]{local=true}, reason: local-disco-initial_connect(master)
2013-02-05 18:01:03,443 INFO  org.elasticsearch.discovery  - [Manslaughter] test-cluster-gustavo/10.12.194.53/1
2013-02-05 18:01:03,524 INFO  org.elasticsearch.gateway  - [Manslaughter] recovered [0] indices into cluster_state
2013-02-05 18:01:03,601 INFO  org.elasticsearch.http  - [Manslaughter] bound_address {inet[/0:0:0:0:0:0:0:0:9200]}, publish_address {inet[/10.12.194.53:9200]}
2013-02-05 18:01:03,602 INFO  org.elasticsearch.node  - [Manslaughter] {0.20.1}[2617]: started
2013-02-05 18:01:03,602 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - *** initMongoInstances ***
2013-02-05 18:01:06,980 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Server #1: localhost:37017
2013-02-05 18:01:06,980 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Server #2: localhost:37018
2013-02-05 18:01:06,980 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Server #3: localhost:37019
2013-02-05 18:01:09,125 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - isMaster: { "serverUsed" : "localhost/127.0.0.1:37017" , "ismaster" : false , "secondary" : false , "info" : "can't get local.system.replset config from self or any seed (EMPTYCONFIG)" , "isreplicaset" : true , "maxBsonObjectSize" : 16777216 , "ok" : 1.0}
2013-02-05 18:01:09,406 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetInitiate: { "serverUsed" : "localhost/127.0.0.1:37017" , "info" : "Config now saved locally.  Should come online in about a minute." , "ok" : 1.0}
2013-02-05 18:01:14,407 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "startupStatus" : 6 , "errmsg" : "Received replSetInitiate - should come online shortly." , "ok" : 0.0}
2013-02-05 18:01:14,407 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:15,411 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:15.000Z"} , "myState" : 2 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 6 , "stateStr" : "UNKNOWN" , "uptime" : 0 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:15.000Z"} , "pingMs" : 0 , "errmsg" : "still initializing"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 6 , "stateStr" : "UNKNOWN" , "uptime" : 0 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:15.000Z"} , "pingMs" : 0 , "errmsg" : "still initializing"}] , "ok" : 1.0}
2013-02-05 18:01:15,411 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:15,412 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 2
2013-02-05 18:01:15,412 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 6 , "stateStr" : "UNKNOWN" , "uptime" : 0 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:15.000Z"} , "pingMs" : 0 , "errmsg" : "still initializing"}
2013-02-05 18:01:15,412 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 6
2013-02-05 18:01:15,412 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:16,414 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:16.000Z"} , "myState" : 2 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 6 , "stateStr" : "UNKNOWN" , "uptime" : 1 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:15.000Z"} , "pingMs" : 0 , "errmsg" : "still initializing"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 6 , "stateStr" : "UNKNOWN" , "uptime" : 1 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:15.000Z"} , "pingMs" : 0 , "errmsg" : "still initializing"}] , "ok" : 1.0}
2013-02-05 18:01:16,415 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:16,415 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 2
2013-02-05 18:01:16,416 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 6 , "stateStr" : "UNKNOWN" , "uptime" : 1 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:15.000Z"} , "pingMs" : 0 , "errmsg" : "still initializing"}
2013-02-05 18:01:16,416 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 6
2013-02-05 18:01:16,416 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:17,418 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:17.000Z"} , "myState" : 2 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 2 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:17.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 2 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:17.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:17,419 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:17,419 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 2
2013-02-05 18:01:17,420 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 2 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:17.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-02-05 18:01:17,420 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 5
2013-02-05 18:01:17,420 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:18,422 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:18.000Z"} , "myState" : 2 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 3 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:17.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 3 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:17.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:18,423 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:18,423 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 2
2013-02-05 18:01:18,423 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 3 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:17.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-02-05 18:01:18,424 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 5
2013-02-05 18:01:18,424 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:19,426 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:19.000Z"} , "myState" : 2 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 4 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:19.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 4 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:19.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:19,426 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:19,426 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 2
2013-02-05 18:01:19,427 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 4 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:19.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-02-05 18:01:19,427 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 5
2013-02-05 18:01:19,427 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:20,429 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:20.000Z"} , "myState" : 2 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 5 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:19.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 5 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:19.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:20,430 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:20,430 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 2
2013-02-05 18:01:20,431 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 5 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:19.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-02-05 18:01:20,431 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 5
2013-02-05 18:01:20,431 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:21,433 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:21.000Z"} , "myState" : 2 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 6 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:21.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 6 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:21.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:21,433 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:21,434 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 2
2013-02-05 18:01:21,434 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 6 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:21.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-02-05 18:01:21,434 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 5
2013-02-05 18:01:21,434 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:22,437 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:22.000Z"} , "myState" : 2 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 7 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:21.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 7 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:21.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:22,437 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:22,438 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 2
2013-02-05 18:01:22,438 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 7 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:21.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-02-05 18:01:22,438 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 5
2013-02-05 18:01:22,438 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:23,440 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:23.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 8 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:23.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 8 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:23.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:23,441 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:23,441 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 1
2013-02-05 18:01:23,442 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 8 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:23.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-02-05 18:01:23,442 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 5
2013-02-05 18:01:23,442 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:24,444 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:24.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 9 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:23.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 9 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:23.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:24,445 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:24,445 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 1
2013-02-05 18:01:24,445 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 9 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:23.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-02-05 18:01:24,446 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 5
2013-02-05 18:01:24,446 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:25,448 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:25.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 10 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:25.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 10 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:25.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:25,448 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:25,448 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 1
2013-02-05 18:01:25,449 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 10 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:25.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-02-05 18:01:25,449 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 3
2013-02-05 18:01:25,449 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:26,451 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:26.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 11 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:25.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 11 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:25.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:26,452 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:26,452 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 1
2013-02-05 18:01:26,453 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 11 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:25.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-02-05 18:01:26,453 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 3
2013-02-05 18:01:26,453 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:27,455 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:27.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 12 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:27.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 12 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:27.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:27,456 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:27,456 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 1
2013-02-05 18:01:27,457 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 12 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:27.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-02-05 18:01:27,457 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 3
2013-02-05 18:01:27,457 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:28,459 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:28.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 13 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:27.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 13 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:27.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:28,460 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:28,460 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 1
2013-02-05 18:01:28,461 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 13 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:27.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-02-05 18:01:28,461 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 3
2013-02-05 18:01:28,461 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:29,463 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:29.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 14 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:29.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 14 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:29.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:29,464 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:29,464 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 1
2013-02-05 18:01:29,464 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 14 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:29.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-02-05 18:01:29,464 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 3
2013-02-05 18:01:29,464 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:30,466 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:30.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 15 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:29.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 15 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:29.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:30,467 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:30,467 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 1
2013-02-05 18:01:30,468 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 15 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:29.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-02-05 18:01:30,468 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 3
2013-02-05 18:01:30,468 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:31,470 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:31.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 16 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:31.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 16 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:31.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:31,470 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:31,470 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 1
2013-02-05 18:01:31,471 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 16 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:31.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-02-05 18:01:31,471 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 3
2013-02-05 18:01:31,471 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:32,473 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:32.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 17 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:31.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 17 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:31.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:32,474 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:32,474 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 1
2013-02-05 18:01:32,474 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 17 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:31.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-02-05 18:01:32,474 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 3
2013-02-05 18:01:32,474 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:33,476 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:33.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 18 , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:33.000Z"} , "pingMs" : 0 , "errmsg" : "initial oplog application from localhost:37017 starting at Feb  5 18:01:09:1 to Feb  5 18:01:09:1"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 18 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:33.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:33,477 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:33,477 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 1
2013-02-05 18:01:33,477 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 18 , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:33.000Z"} , "pingMs" : 0 , "errmsg" : "initial oplog application from localhost:37017 starting at Feb  5 18:01:09:1 to Feb  5 18:01:09:1"}
2013-02-05 18:01:33,477 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 3
2013-02-05 18:01:33,478 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:34,480 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:34.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 19 , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:33.000Z"} , "pingMs" : 0 , "errmsg" : "initial oplog application from localhost:37017 starting at Feb  5 18:01:09:1 to Feb  5 18:01:09:1"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 19 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:33.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:34,480 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:34,480 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 1
2013-02-05 18:01:34,481 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 19 , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:33.000Z"} , "pingMs" : 0 , "errmsg" : "initial oplog application from localhost:37017 starting at Feb  5 18:01:09:1 to Feb  5 18:01:09:1"}
2013-02-05 18:01:34,481 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 3
2013-02-05 18:01:34,481 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:35,484 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:35.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 20 , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:35.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync done"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 20 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:35.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:35,484 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:35,484 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 1
2013-02-05 18:01:35,485 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 20 , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:35.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync done"}
2013-02-05 18:01:35,485 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 3
2013-02-05 18:01:35,485 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:36,488 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:36.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 21 , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:35.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync done"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 21 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:35.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:36,488 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:36,488 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 1
2013-02-05 18:01:36,489 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 21 , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:35.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync done"}
2013-02-05 18:01:36,489 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 3
2013-02-05 18:01:36,489 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Waiting for 3 seconds...
2013-02-05 18:01:37,491 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-02-05T18:01:37.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 22 , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:37.000Z"} , "pingMs" : 0} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 22 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:37.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-02-05 18:01:37,492 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "self" : true}
2013-02-05 18:01:37,492 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 1
2013-02-05 18:01:37,492 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 22 , "optime" : { "$ts" : 1360087269 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-02-05T18:01:09.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:37.000Z"} , "pingMs" : 0}
2013-02-05 18:01:37,492 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 2
2013-02-05 18:01:37,493 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 22 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-02-05T18:01:37.000Z"} , "pingMs" : 0}
2013-02-05 18:01:37,493 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - state: 7
2013-02-05 18:01:37,596 WARN  org.apache.commons.jexl2.JexlEngine  - org.elasticsearch.river.mongodb.util.FieldMapper.map@27![0,4]: 'key1;' undefined variable key1
2013-02-05 18:01:37,598 WARN  org.apache.commons.jexl2.JexlEngine  - org.elasticsearch.river.mongodb.util.FieldMapper.map@27![0,4]: 'key1;' undefined variable key1
2013-02-05 18:01:37,611 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoDBTest  - createDatabase testriver
2013-02-05 18:01:37,611 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoDBTest  - Create river testmongodb
2013-02-05 18:01:37,611 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoDBTest  - Create river
2013-02-05 18:01:37,612 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoDBTest  - River mapping: {
	"type": "mongodb",
	"mongodb": {
		"servers": [{ 
			host: "localhost",
			port: "37017"
		},
		{ 
			host: "localhost",
			port: "37018"
		},
		{ 
			host: "localhost",
			port: "37019"
		}],
		"options": {
			"secondary_read_preference": true
		},
		db: "testriver",
		collection: "person",
		gridfs: "false"
	},
	index: {
		name: "personindex",
		type: "persontype",
		throttle_size: 2000
	},
	"field_mappings": [{
	    "generate": "suggest",
	    "from": ["upl","acl","dn"],
	    "keep_source": true
	},
	{
       "generate": "ranking",
       "from": "r",
	   "keep_source": false
	}]
}
2013-02-05 18:01:37,823 INFO  org.elasticsearch.cluster.metadata  - [Manslaughter] [_river] creating index, cause [auto(index api)], shards [1]/[1], mappings []
2013-02-05 18:01:38,345 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoDBTest  - Running Cluster Health
2013-02-05 18:01:38,353 INFO  org.elasticsearch.cluster.metadata  - [Manslaughter] [_river] update_mapping [testmongodb] (dynamic)
2013-02-05 18:01:38,394 DEBUG org.elasticsearch.river.mongodb  - [Manslaughter] [mongodb][testmongodb] Prefix: [[Manslaughter] [mongodb][testmongodb] ] - name: [org.elasticsearch.river.mongodb]
2013-02-05 18:01:38,394 DEBUG org.elasticsearch.river.mongodb  - River settings: 
2013-02-05 18:01:38,394 INFO  org.elasticsearch.river.mongodb  - [Manslaughter] [mongodb][testmongodb] mongoServersSettings: [{port=37017, host=localhost}, {port=37018, host=localhost}, {port=37019, host=localhost}]
2013-02-05 18:01:38,394 INFO  org.elasticsearch.river.mongodb  - [Manslaughter] [mongodb][testmongodb] Server: localhost - 37017
2013-02-05 18:01:38,394 INFO  org.elasticsearch.river.mongodb  - [Manslaughter] [mongodb][testmongodb] Server: localhost - 37018
2013-02-05 18:01:38,395 INFO  org.elasticsearch.river.mongodb  - [Manslaughter] [mongodb][testmongodb] Server: localhost - 37019
2013-02-05 18:01:38,395 INFO  org.elasticsearch.river.mongodb  - [Manslaughter] [mongodb][testmongodb] Using mongodb server(s): host [localhost], port [37017]
2013-02-05 18:01:38,395 INFO  org.elasticsearch.river.mongodb  - [Manslaughter] [mongodb][testmongodb] Using mongodb server(s): host [localhost], port [37018]
2013-02-05 18:01:38,395 INFO  org.elasticsearch.river.mongodb  - [Manslaughter] [mongodb][testmongodb] Using mongodb server(s): host [localhost], port [37019]
2013-02-05 18:01:38,403 INFO  org.elasticsearch.river.mongodb  - [Manslaughter] [mongodb][testmongodb] starting mongodb stream. options: secondaryreadpreference [true], throttlesize [2000], gridfs [false], filter [], db [testriver], indexing from [personindex]/[persontype], mapping config [r->ranking[keep orig.:false],acl->suggest[keep orig.:true],upl->suggest[keep orig.:true],dn->suggest[keep orig.:true],]
2013-02-05 18:01:38,427 INFO  org.elasticsearch.cluster.metadata  - [Manslaughter] [personindex] creating index, cause [api], shards [5]/[1], mappings []
2013-02-05 18:01:38,829 INFO  org.elasticsearch.river.mongodb  - [Manslaughter] [mongodb][testmongodb] No known previous slurping time for this collection
2013-02-05 18:01:38,829 DEBUG org.elasticsearch.river.mongodb  - [Manslaughter] [mongodb][testmongodb] Using filter: { "$and" : [ { "ns" : "testriver.person"}]}
2013-02-05 18:01:38,919 INFO  org.elasticsearch.cluster.metadata  - [Manslaughter] [_river] update_mapping [testmongodb] (dynamic)
2013-02-05 18:02:08,381 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoDBTest  - Done Cluster Health, status YELLOW
2013-02-05 18:02:08,381 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoDBTest  - Start createCollection
2013-02-05 18:02:08,381 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoDBTest  - Start mongoCRUDTest
2013-02-05 18:02:08,590 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoDBTest  - New object inserted: { "count" : "-1" , "i18n" : { "pt" : "contador"} , "_id" : { "$oid" : "511149207670b26ea733c046"}}
2013-02-05 18:02:08,590 DEBUG org.elasticsearch.river.mongodb  - [Manslaughter] [mongodb][testmongodb] addToStream - operation [i], currentTimestamp [TS time:Tue Feb 05 18:02:08 GMT 2013 inc:1], data [{_id=511149207670b26ea733c046, count=-1, i18n={ "pt" : "contador"}}]
2013-02-05 18:02:08,592 WARN  org.apache.commons.jexl2.JexlEngine  - org.elasticsearch.river.mongodb.util.FieldMapper.map@27![0,1]: 'r;' undefined variable r
2013-02-05 18:02:08,592 WARN  org.apache.commons.jexl2.JexlEngine  - org.elasticsearch.river.mongodb.util.FieldMapper.map@27![0,3]: 'acl;' undefined variable acl
2013-02-05 18:02:08,592 WARN  org.apache.commons.jexl2.JexlEngine  - org.elasticsearch.river.mongodb.util.FieldMapper.map@27![0,3]: 'upl;' undefined variable upl
2013-02-05 18:02:08,592 WARN  org.apache.commons.jexl2.JexlEngine  - org.elasticsearch.river.mongodb.util.FieldMapper.map@27![0,2]: 'dn;' undefined variable dn
2013-02-05 18:02:08,592 DEBUG org.elasticsearch.river.mongodb.MongoDBRiver$Indexer  - updateBulkRequest for id: [511149207670b26ea733c046], operation: [i]
2013-02-05 18:02:08,593 DEBUG org.elasticsearch.river.mongodb.MongoDBRiver$Indexer  - Insert operation - id: i - contains attachment: 511149207670b26ea733c046
2013-02-05 18:02:08,595 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoDBTest  - Start simpleBSONObject
2013-02-05 18:02:08,595 DEBUG org.elasticsearch.river.mongodb  - [Manslaughter] [mongodb][testmongodb] addToStream - operation [d], currentTimestamp [TS time:Tue Feb 05 18:02:08 GMT 2013 inc:2], data [{_id=511149207670b26ea733c046}]
2013-02-05 18:02:08,595 DEBUG org.elasticsearch.river.mongodb.MongoDBRiver$Indexer  - updateBulkRequest for id: [511149207670b26ea733c046], operation: [d]
2013-02-05 18:02:08,596 INFO  org.elasticsearch.river.mongodb.MongoDBRiver$Indexer  - Delete request [personindex], [persontype], [511149207670b26ea733c046]
2013-02-05 18:02:08,596 DEBUG org.elasticsearch.river.mongodb  - [Manslaughter] [mongodb][testmongodb] addToStream - operation [i], currentTimestamp [TS time:Tue Feb 05 18:02:08 GMT 2013 inc:3], data [{_id=511149207670b26ea733c047, name=Richard, score=100}]
2013-02-05 18:02:08,596 DEBUG org.elasticsearch.river.mongodb.MongoDBRiver$Indexer  - updateBulkRequest for id: [511149207670b26ea733c047], operation: [i]
2013-02-05 18:02:08,596 DEBUG org.elasticsearch.river.mongodb.MongoDBRiver$Indexer  - Insert operation - id: i - contains attachment: 511149207670b26ea733c047
2013-02-05 18:02:08,671 INFO  org.elasticsearch.cluster.metadata  - [Manslaughter] [personindex] update_mapping [persontype] (dynamic)
2013-02-05 18:02:08,672 INFO  org.elasticsearch.river.mongodb.MongoDBRiver$Indexer  - Indexed 3 documents, 2 insertions 0, updates, 1 deletions, 0 documents per second
2013-02-05 18:02:08,679 INFO  org.elasticsearch.cluster.metadata  - [Manslaughter] [_river] update_mapping [testmongodb] (dynamic)
2013-02-05 18:02:09,597 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoDBTest  - WriteResult: { "serverUsed" : "localhost/127.0.0.1:37017" , "n" : 0 , "lastOp" : 5841530593464025091 , "connectionId" : 14 , "wtime" : 1 , "err" :  null  , "ok" : 1.0}
2013-02-05 18:02:09,663 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoDBTest  - Document count: 1
2013-02-05 18:02:09,668 DEBUG org.elasticsearch.river.mongodb  - [Manslaughter] [mongodb][testmongodb] addToStream - operation [d], currentTimestamp [TS time:Tue Feb 05 18:02:09 GMT 2013 inc:1], data [{_id=511149207670b26ea733c047}]
2013-02-05 18:02:09,668 WARN  org.apache.commons.jexl2.JexlEngine  - org.elasticsearch.river.mongodb.util.FieldMapper.map@27![0,1]: 'r;' undefined variable r
2013-02-05 18:02:09,669 WARN  org.apache.commons.jexl2.JexlEngine  - org.elasticsearch.river.mongodb.util.FieldMapper.map@27![0,3]: 'acl;' undefined variable acl
2013-02-05 18:02:09,669 WARN  org.apache.commons.jexl2.JexlEngine  - org.elasticsearch.river.mongodb.util.FieldMapper.map@27![0,3]: 'upl;' undefined variable upl
2013-02-05 18:02:09,669 WARN  org.apache.commons.jexl2.JexlEngine  - org.elasticsearch.river.mongodb.util.FieldMapper.map@27![0,2]: 'dn;' undefined variable dn
2013-02-05 18:02:09,669 DEBUG org.elasticsearch.river.mongodb.MongoDBRiver$Indexer  - updateBulkRequest for id: [511149207670b26ea733c047], operation: [d]
2013-02-05 18:02:09,669 INFO  org.elasticsearch.river.mongodb.MongoDBRiver$Indexer  - Delete request [personindex], [persontype], [511149207670b26ea733c047]
2013-02-05 18:02:09,681 INFO  org.elasticsearch.river.mongodb.MongoDBRiver$Indexer  - Indexed 1 documents, 0 insertions 0, updates, 1 deletions, 1 documents per second
2013-02-05 18:02:10,669 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoDBTest  - Count after delete request: 0
2013-02-05 18:02:10,669 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoDBTest  - Delete index [personindex]
2013-02-05 18:02:10,671 INFO  org.elasticsearch.cluster.metadata  - [Manslaughter] [personindex] deleting index
2013-02-05 18:02:10,767 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoDBTest  - Drop database testriver
2013-02-05 18:02:10,820 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - *** afterSuite ***
2013-02-05 18:02:10,820 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - *** shutdownElasticsearchServer ***
2013-02-05 18:02:10,820 INFO  org.elasticsearch.node  - [Manslaughter] {0.20.1}[2617]: stopping ...
2013-02-05 18:02:10,919 INFO  org.elasticsearch.river.mongodb  - [Manslaughter] [mongodb][testmongodb] closing mongodb stream river
2013-02-05 18:02:10,919 DEBUG org.elasticsearch.river.mongodb.MongoDBRiver$Indexer  - river-mongodb indexer interrupted
2013-02-05 18:02:10,919 INFO  org.elasticsearch.river.mongodb.MongoDBRiver$Indexer  - Indexed 0 documents, 0 insertions 0, updates, 0 deletions, 0 documents per second
2013-02-05 18:02:10,975 INFO  org.elasticsearch.node  - [Manslaughter] {0.20.1}[2617]: stopped
2013-02-05 18:02:10,975 INFO  org.elasticsearch.node  - [Manslaughter] {0.20.1}[2617]: closing ...
2013-02-05 18:02:11,000 INFO  org.elasticsearch.node  - [Manslaughter] {0.20.1}[2617]: closed
2013-02-05 18:02:11,000 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - *** shutdownMongoInstances ***
2013-02-05 18:02:11,000 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Start shutdown de.flapdoodle.embed.mongo.MongodProcess@35601196
2013-02-05 18:02:11,125 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Start shutdown de.flapdoodle.embed.mongo.MongodProcess@1c710710
2013-02-05 18:02:11,129 ERROR org.elasticsearch.river.mongodb  - [Manslaughter] [mongodb][testmongodb] Mongo gave an exception
com.mongodb.MongoInterruptedException: A driver operation has been interrupted
	at com.mongodb.DBPortPool.get(DBPortPool.java:211)
	at com.mongodb.DBTCPConnector$MyPort.get(DBTCPConnector.java:413)
	at com.mongodb.DBTCPConnector.innerCall(DBTCPConnector.java:277)
	at com.mongodb.DBTCPConnector.innerCall(DBTCPConnector.java:304)
	at com.mongodb.DBTCPConnector.call(DBTCPConnector.java:256)
	at com.mongodb.DBTCPConnector.call(DBTCPConnector.java:225)
	at com.mongodb.DBApiLayer$Result._advance(DBApiLayer.java:431)
	at com.mongodb.DBApiLayer$Result.hasNext(DBApiLayer.java:400)
	at com.mongodb.DBCursor._hasNext(DBCursor.java:464)
	at com.mongodb.DBCursor.hasNext(DBCursor.java:484)
	at org.elasticsearch.river.mongodb.MongoDBRiver$Slurper.run(MongoDBRiver.java:644)
	at java.lang.Thread.run(Thread.java:722)
Caused by: java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1325)
	at java.util.concurrent.Semaphore.tryAcquire(Semaphore.java:414)
	at com.mongodb.util.SimplePool.permitAcquired(SimplePool.java:148)
	at com.mongodb.util.SimplePool.get(SimplePool.java:110)
	at com.mongodb.DBPortPool.get(DBPortPool.java:209)
	... 11 more
2013-02-05 18:02:11,229 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.RiverMongoWithGridFSTest  - Start shutdown de.flapdoodle.embed.mongo.MongodProcess@99bfbcb
